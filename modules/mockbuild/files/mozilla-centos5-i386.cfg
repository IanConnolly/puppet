config_opts['root'] = 'mozilla-centos5-i386'
config_opts['target_arch'] = 'i686'
config_opts['legal_host_arches'] = ('i386', 'i586', 'i686', 'x86_64')
config_opts['chroot_setup_cmd'] = 'install buildsys-build'
config_opts['dist'] = 'centos5'  # only useful for --resultdir variable subst

# Unfortunately, it's a little messy to avoid mounting the entire slave
# directory into the chroot for now
config_opts['plugin_conf']['bind_mount_opts']['dirs'].append(('/builds/slave',
                                                              '/builds/slave'))
config_opts['plugin_conf']['bind_mount_opts']['dirs'].append(('/builds/ccache',
                                                              '/builds/ccache'))
config_opts['plugin_conf']['bind_mount_opts']['dirs'].append(('/builds/hg-shared',
                                                              '/builds/hg-shared'))

# But lets still create somewhere for build data that is outside of the chroot
# and survives the chroot being cleaned
config_opts['plugin_conf']['bind_mount_opts']['dirs'].append(('/builds/mock_mozilla/%s/targetdata/' % config_opts['root'], '/targetdata/'))

config_opts['yum.conf'] = """
[main]
cachedir=/var/cache/yum
debuglevel=1
reposdir=/dev/null
logfile=/var/log/yum.log
retries=20
obsoletes=1
gpgcheck=0
assumeyes=1
syslog_ident=mock
syslog_device=

# repos

[core]
name=base
baseurl=http://repos/repos/yum/mirrors/centos/5/latest/os/i386

[update]
name=updates
baseurl=http://repos/repos/yum/mirrors/centos/5/latest/updates/i386

[groups]
name=groups
baseurl=http://buildsys.fedoraproject.org/buildgroups/rhel5/i386/

[releng]
name=releng
baseurl=http://repos/repos/yum/releng/public/i386/
"""

